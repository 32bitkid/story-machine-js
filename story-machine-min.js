var storyMachine=function(){{var a=(function(){function a(a){window.setTimeout(a,1e3/60)}return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||a}(),function(){var a=function(){function a(){var a=+new Date;return function(b){window.setTimeout(function(){b.call(this,+new Date-a)},1e3/60)}}return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||a()}(),b=function(c,d){d=d||b.easing.linear;var e,f=[],g=!1,h=function(b){var i,j,k,l;for(e||(e=b),elapsed=b-e,elapsed>c&&(g=!0,elapsed=c),i=elapsed/c,j=d(i,elapsed,0,1,c),k=0,l=f.length;l>k;k++)f[k](j);return g?void 0:a(h)};return ctx={start:function(){return a(h),ctx},reset:function(){return g=!1,e=void 0,ctx},restart:function(){return ctx.reset().start()},update:function(a,b,c,d){var e=d?function(b){a(d(b))}:a,g=null!=b&&null!=c?function(a){e(a*(c-b)+b)}:e;return f.push(g),ctx}}},c=function(a){return function(b){return b+a}};b.pixels=c("px"),b.em=c("em");var d=function(){};return b.with=function(a,b){return b&&b.call==Function.prototype.call?function(c){b.call(a,c)}:a&&b?function(c){a[b]=c}:d},b.easing=function(){var a={"in":function(a,b,c,d,e){return d*(b/=e)*b+c},out:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},both:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c}};return{linear:function(a,b,c,d){return a*(d-c)+c},quad:a}}(),b}()),b=(Function.prototype.bind,Function.prototype.call);b.bind(Array.prototype.slice)}return function(b){var c=function(c){var d=c.target,e=c.currentTarget;if(e.classList.contains("complete"))return void c.preventDefault();do if(d.classList.contains("answer")){var f=d;c.preventDefault();var g=f.getAttribute("href").substr(1);if(!h(g))return;var i=k(g);i.classList.add("current"),i.classList.add("new");var j=i.offsetTop;i.classList.remove("new"),f.classList.add("selected"),e.classList.add("complete"),e.classList.remove("current");var l=document.documentElement||document.body;return j=Math.min(j,l.offsetHeight-l.clientHeight),void a(b.speed||750,a.easing.quad.both).update(a.with(l,"scrollTop"),l.scrollTop,j).start()}while(d=d.parentElement)},d=b.target,e={},f={},g={DIV:function(a){var b=a.getAttribute("id"),c=a.innerHTML;i(b,c)},SCRIPT:function(a){var b=a.getAttribute("id"),c=a.innerText||a.textContent,d=f[a.getAttribute("type")];d&&(c=d(c)),i(b,c)}},h=function(a){return!!e[a]},i=function(a,b){e[a]=b},j=function(a,b){f[a]=b},k=function(a){var b=e[a];if(b){var f=document.createElement("section");return f.innerHTML=b,f.addEventListener("click",c),d.appendChild(f),f}},l=function(a){for(var b,c,d,e,b=0,c=a.length;c>b;b++)d=a[b],d.parentElement.removeChild(d),(e=g[d.tagName]||g.DIV)(d)};if(b&&b.register)for(var m in b.register)j(m,b.register[m]);return b&&b.elements&&l(b.elements),{add:i,render:k,addElements:l,registerType:j}}}();